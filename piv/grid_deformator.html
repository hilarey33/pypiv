
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Grid deformator class &#8212; pypiv a1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Velocity Filter" href="velofilter.html" />
    <link rel="prev" title="Cubic interpolator" href="interpolator.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="velofilter.html" title="Velocity Filter"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="interpolator.html" title="Cubic interpolator"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pypiv a1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="interpolator.html"
                        title="previous chapter">Cubic interpolator</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="velofilter.html"
                        title="next chapter">Velocity Filter</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/piv/grid_deformator.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="grid-deformator-class">
<h1>Grid deformator class<a class="headerlink" href="#grid-deformator-class" title="Permalink to this headline">¶</a></h1>
<p>The deformation of the grid for the window deformation is done by the GridDeformator class.</p>
<dl class="class">
<dt id="piv.grid_deformator.GridDeformator">
<em class="property">class </em><code class="descclassname">piv.grid_deformator.</code><code class="descname">GridDeformator</code><span class="sig-paren">(</span><em>frame</em>, <em>shape</em>, <em>distance</em>, <em>method='bilinear'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/piv/grid_deformator.html#GridDeformator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#piv.grid_deformator.GridDeformator" title="Permalink to this definition">¶</a></dt>
<dd><p>Class of the grid deformator.</p>
<p>Initialization of the grid deformation process.</p>
<p>The frame and grid shape are set as well as the distance between the interrogation windows and the method of deformation.
The available methods are</p>
<ul class="simple">
<li>bilinear and</li>
<li>central.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>frame</strong> – image that is interpolated</li>
<li><strong>shape</strong> – shape of the initial regular grid</li>
<li><strong>distance</strong> – shift between the interrogation windows</li>
<li><strong>method</strong> – deformation method</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>After the initialization the velocities are set and a displacement is calculated.</p>
<dl class="method">
<dt id="piv.grid_deformator.GridDeformator.set_velocities">
<code class="descclassname">GridDeformator.</code><code class="descname">set_velocities</code><span class="sig-paren">(</span><em>u</em>, <em>v</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/piv/grid_deformator.html#GridDeformator.set_velocities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#piv.grid_deformator.GridDeformator.set_velocities" title="Permalink to this definition">¶</a></dt>
<dd><p>Setter function for the velocities to calculate the displacement.</p>
<p>Calls the getter function for every velocity component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>u</strong> – x component of the velocity vector</li>
<li><strong>v</strong> – y component of the velocity vector</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="piv.grid_deformator.GridDeformator._get_displacement_function">
<code class="descclassname">GridDeformator.</code><code class="descname">_get_displacement_function</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/piv/grid_deformator.html#GridDeformator._get_displacement_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#piv.grid_deformator.GridDeformator._get_displacement_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter function for calculating the displacement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – field that is used for the displacement, mainly velocity components</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">function of the Taylor expanded field to first order</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>In order to calculate the sub frame out of the displaced grid an other function must be invoked.</p>
<dl class="method">
<dt id="piv.grid_deformator.GridDeformator.get_frame">
<code class="descclassname">GridDeformator.</code><code class="descname">get_frame</code><span class="sig-paren">(</span><em>i</em>, <em>j</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/piv/grid_deformator.html#GridDeformator.get_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#piv.grid_deformator.GridDeformator.get_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform interpolation to produce the deformed window for correlation.</p>
<p>This function takes the previously set displacement and interpolates the image for these coordinates.
If the cubic interpolation method is chosen, the cubic interpolation of this API is use.
For the bilinear method the build in scipy method <a class="reference external" href="https://goo.gl/wucmUO">map_coordinates</a> is used with <em>order</em> set to 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>i</strong> (<em>int</em>) – first index in grid coordinates</li>
<li><strong>j</strong> (<em>int</em>) – second index in grid coordinates</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">interpolated window for the grid coordinates i,j and the image set in initialization</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="velofilter.html" title="Velocity Filter"
             >next</a> |</li>
        <li class="right" >
          <a href="interpolator.html" title="Cubic interpolator"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pypiv a1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2017, Jonas Ruebsam, Axel Rosenthal, Kevin Luedemann.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>